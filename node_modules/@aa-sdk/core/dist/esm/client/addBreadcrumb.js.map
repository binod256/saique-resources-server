{"version":3,"file":"addBreadcrumb.js","sourceRoot":"","sources":["../../../src/client/addBreadcrumb.ts"],"names":[],"mappings":"AAAA;;;GAGG;AACH,MAAM,CAAC,MAAM,cAAc,GAAG,MAAM,CAAC,eAAe,CAAC,CAAC;AAEtD,SAAS,gBAAgB,CACvB,CAAI;IAEJ,OAAO,cAAc,IAAI,CAAC,CAAC;AAC7B,CAAC;AAED;;;;;;GAMG;AACH,MAAM,UAAU,iBAAiB,CAAe,MAAS,EAAE,KAAa;IACtE,IAAI,gBAAgB,CAAC,MAAM,CAAC,EAAE,CAAC;QAC7B,OAAO,MAAM,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC;IACD,OAAO,MAAM,CAAC;AAChB,CAAC","sourcesContent":["/**\n * The symbol that is used to add a breadcrumb to the headers. Is an optional\n * function that is used to add a breadcrumb to the headers.\n */\nexport const ADD_BREADCRUMB = Symbol(\"addBreadcrumb\");\n\nfunction hasAddBreadcrumb<A extends {}>(\n  a: A,\n): a is A & { [ADD_BREADCRUMB]: (breadcrumb: string) => A } {\n  return ADD_BREADCRUMB in a;\n}\n\n/**\n * Add a crumb to the breadcrumb.\n *\n * @param {X} client Clients are somethings like viem, that we are adding breadcrumbs to, and could be owning the transport. Usually a alchemy client.\n * @param {string} crumb The crumb to add to the breadcrumb\n * @returns {Function} The updated client\n */\nexport function clientHeaderTrack<X extends {}>(client: X, crumb: string): X {\n  if (hasAddBreadcrumb(client)) {\n    return client[ADD_BREADCRUMB](crumb);\n  }\n  return client;\n}\n"]}