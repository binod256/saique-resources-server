{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../src/signer/types.ts"],"names":[],"mappings":";AAkEA,kCAAkC","sourcesContent":["import type { Address } from \"abitype\";\nimport type {\n  Hex,\n  OneOf,\n  SignableMessage,\n  TypedData,\n  TypedDataDefinition,\n  SignedAuthorization,\n} from \"viem\";\n\n// [!region SmartAccountAuthenticator]\n/**\n * Extends the @interface SmartAccountSigner interface with authentication.\n *\n * @template AuthParams - the generic type of the authentication parameters\n * @template AuthDetails - the generic type of the authentication details\n * @template Inner - the generic type of the inner client that the signer wraps to provide functionality such as signing, etc.\n */\nexport interface SmartAccountAuthenticator<AuthParams, AuthDetails, Inner = any>\n  extends SmartAccountSigner<Inner> {\n  authenticate: (params: AuthParams) => Promise<AuthDetails>;\n\n  getAuthDetails: () => Promise<AuthDetails>;\n}\n// [!endregion SmartAccountAuthenticator]\n\n// [!region SmartAccountSigner]\n// TODO: This is a temporary type to be removed when viem is updated\nexport type AuthorizationRequest<uint32 = number> = OneOf<\n  | {\n      address: Address;\n    }\n  | {\n      contractAddress: Address;\n    }\n> & {\n  /** Chain ID. */\n  chainId: uint32;\n  /** Nonce of the EOA to delegate to. */\n  nonce: uint32;\n};\n\n/**\n * A signer that can sign messages and typed data.\n *\n * @template Inner - the generic type of the inner client that the signer wraps to provide functionality such as signing, etc.\n */\nexport interface SmartAccountSigner<Inner = any> {\n  signerType: string;\n  inner: Inner;\n\n  getAddress: () => Promise<Address>;\n\n  signMessage: (message: SignableMessage) => Promise<Hex>;\n\n  signTypedData: <\n    const TTypedData extends TypedData | Record<string, unknown>,\n    TPrimaryType extends keyof TTypedData | \"EIP712Domain\" = keyof TTypedData,\n  >(\n    params: TypedDataDefinition<TTypedData, TPrimaryType>,\n  ) => Promise<Hex>;\n\n  signAuthorization?: (\n    unsignedAuthorization: AuthorizationRequest<number>,\n  ) => Promise<SignedAuthorization<number>>;\n}\n// [!endregion SmartAccountSigner]\n"]}